<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="SPL File HTTPParallelRequest.spl"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="spldoc_compilationunit"/>
<link rel="stylesheet" type="text/css" href="../../html/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../../html/spldoc.css"/>
<title>SPL File HTTPParallelRequest.spl</title>
</head>
<body id="spldoc_compilationunit">


<h1 class="title topictitle1">SPL File <tt class="ph tt">HTTPParallelRequest.spl</tt></h1>

<div class="body refbody">
<div class="section">
<p class="p">
<a class="xref" href="../toolkits/toolkits.html">IBMStreams com.ibm.streamsx.inet Toolkit</a> &gt; <a class="xref" href="tk$com.ibm.streamsx.inet.html">com.ibm.streamsx.inet 3.4.0</a> &gt; <a class="xref" href="ns$com.ibm.streamsx.inet.http.html">com.ibm.streamsx.inet.http</a> &gt; HTTPParallelRequest.spl</p>

</div>

<div class="section"><h2 class="title sectiontitle splhead-1">Content</h2>
  
  <dl class="dl">
    <dt class="dt dlterm"/>
<dd class="dd"/>

    
      <dt class="dt dlterm splhead-2">Operators</dt>

      <dd class="dd">
<ul class="sl simple">
<li class="sli"><strong class="ph b"><a class="xref" href="spl$com.ibm.streamsx.inet.http$HTTPParallelRequest.html#spldoc_compilationunit__composite_operator__HTTPParallelRequest">HTTPParallelRequest</a></strong>: The operator HTTPParallelRequest issues HTTP requests in parallel asynchronously from the input stream.
</li>

</ul>

      </dd>

    
    
      <dt class="dt dlterm splhead-2">Functions</dt>

      <dd class="dd">
<ul class="sl simple">
<li class="sli"><strong class="ph b"><a class="xref" href="spl$com.ibm.streamsx.inet.http$HTTPParallelRequest.html#spldoc_compilationunit__function__passThrough.rstring">passThrough(rstring)</a></strong>: This function passes the input string unchanged 
</li>

</ul>

      </dd>

    
    
      <dt class="dt dlterm splhead-2">Types</dt>

      <dd class="dd">
<ul class="sl simple">
<li class="sli"><strong class="ph b"><a class="xref" href="spl$com.ibm.streamsx.inet.http$HTTPParallelRequest.html#spldoc_compilationunit__composite_type__HTTPParallelRequest.HttpMethod">HTTPParallelRequest.HttpMethod</a></strong>: This type determines the kind of the http operation values are httpGet, httpPut, httpPost, httpDelete 
</li>

</ul>

      </dd>

    
  </dl>

</div>

<div class="section"><h2 class="title sectiontitle splhead-1">Composites</h2>
  
</div>

<div class="section" id="spldoc_compilationunit__composite_operator__HTTPParallelRequest"><h2 class="title sectiontitle splpart">composite HTTPParallelRequest(output Result, Error; input Request)</h2>
  
</div>

<div class="section splgraph">
  <embed class="image" src="../../image/tk$com.ibm.streamsx.inet/op$com.ibm.streamsx.inet.http$HTTPParallelRequest.svg" width="146" height="109"/>
</div>

<div class="section">

<p class="p">The operator HTTPParallelRequest issues HTTP requests in parallel asynchronously from the input stream. The operator opens on request up to <em class="ph i">maxConnections</em> parallel http connections an sends the results downstream once the  response is received. The operator has one input stream. The attributes of the input stream may define the kind and the  parameters of the http operation like method, url, headers  and data. When the response to an request is received, the  result is passed in an output tuple of the <em class="ph i">Result</em> port. If an http operation fails, the status information and the error is sent to the <em class="ph i">Result</em> port and optionally to the <em class="ph i">Error</em> port. The operator maintains a pool of up to <em class="ph i">maxConnections</em> http connections. An incoming request is routed round-robin to  one of the connections. If the connection is busy the request is queued. The length of the queues is determined with  parameter <em class="ph i">queue</em>. Finally the congestion policy of the queues is defined with parameter <em class="ph i">congestionPolicy</em>.
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Parameters</h2>

<ul class="sl simple">
<li class="sli"><strong class="ph b">method</strong>: This required parameter determines the kind of the http request. Type <em class="ph i">HttpMethod</em>
</li>

<li class="sli"><strong class="ph b">url</strong>: The request url. Required parameter.
</li>

<li class="sli"><strong class="ph b">urlEncode</strong>: Defines the function to be used to prepare the url. Predefined values are <a class="xref" href="fc$com.ibm.streamsx.inet.http.html#spldoc_functions__urlEncode.rstring">function:com.ibm.streamsx.inet.http::urlEncode(rstring)</a> or <em class="ph i">passThrough</em>. 							The user may define an own function for url-preprocessing. This function must have a signature *rstring myfunction(rstring)*
							If the function returns an empty string, no http request is performed and an error tuple is sent. Default is *urlEncode*

</li>

<li class="sli"><strong class="ph b">data</strong>: The body of the operation. Default is the empty string.
</li>

<li class="sli"><strong class="ph b">headers</strong>: http headers passes in the http request. Default is the empty list.
</li>

<li class="sli"><strong class="ph b">contentTypeHeader</strong>: The content type header. If this header is not empty, it is appended to the headers list. Default is <em class="ph i">"ContentType: application/x-www-form-urlencoded"</em>
</li>

<li class="sli"><strong class="ph b">requestTimeout</strong>: This is the maximum time in seconds that you allow the transfer operation to take. Normally, name lookups can take a considerable time and limiting operations to less than a few minutes risk aborting perfectly normal operations. Default timeout is 5
</li>

<li class="sli"><strong class="ph b">connectionTimeout</strong>: This is the maximum time in seconds that you allow the connection to the server to take. This only limits the connection phase, once it has connected, this option is of no more use. Default is 20 seconds
</li>

<li class="sli"><strong class="ph b">width</strong>: The number of parallel used threads. This conforms to the maximum number if used http connections. Default is 8
</li>

<li class="sli"><strong class="ph b">queue</strong>: The length of the input queue of each thread. Default 100
</li>

<li class="sli"><strong class="ph b">congestionPolicy</strong>: The congestion policy of the input queue. Type <em class="ph i">Sys.CongestionPolicy</em>. Default <em class="ph i">Sys.Wait</em>
</li>

<li class="sli"><strong class="ph b">user</strong>: This user name for authentication is passed to to the server. Ignored if empty.
</li>

<li class="sli"><strong class="ph b">password</strong>: This password for authentication is passed to the server. Ignored if empty.
</li>

<li class="sli"><strong class="ph b">certFile</strong>: Absolute path to a certificate file sent to the server. Ignored if empty.
</li>

<li class="sli"><strong class="ph b">certType</strong>: The certification file type (PEM, P12). Ignored if empty.
</li>

<li class="sli"><strong class="ph b">keyFile</strong>: Absolute path to a private key file to be sent to the server. Ignored if empty.
</li>

<li class="sli"><strong class="ph b">keyType</strong>: The key file type (PEM, P12). Ignored if empty.
</li>

<li class="sli"><strong class="ph b">keyPass</strong>: The password for the private key. Ignored if empty.
</li>

</ul>

</div>

<div class="section"><h2 class="title sectiontitle">Input Ports</h2>

<ul class="sl simple">
<li class="sli"><strong class="ph b">Request</strong>: The request stream with attributes of the http request.
</li>

</ul>

</div>

<div class="section"><h2 class="title sectiontitle">Output Ports</h2>

<ul class="sl simple">
<li class="sli"><strong class="ph b">Result</strong>: The result stream. One tuple is generated for each input tuple. 							The *Result* port must have at least the following attributes : *rstring body, list&lt;rstring&gt; headers, rstring message, int32 status, rstring url*
							where body is the response body, headers is the response header list, message is the error/success message, status is the error status of the operation, url is the encoded url. 
							All other attributes are assigned from the input stream.

</li>

<li class="sli"><strong class="ph b">Error</strong>: The optional error stream. One tuple indicates a failed http operation. 							The type is : *tuple&lt;rstring url, rstring message, int32 status&gt;*

</li>

</ul>

</div>

<div class="section"><h2 class="title sectiontitle">Static Types</h2>
  
</div>

   <div class="section" id="spldoc_compilationunit__composite_type__HTTPParallelRequest.HttpMethod">
     <dl class="dl">
       
         <dt class="dt dlterm">HTTPParallelRequest.HttpMethod = enum { httpGet, httpPut, httpPost, httpDelete };</dt>

         <dd class="dd">
<p class="p">This type determines the kind of the http operation values are httpGet, httpPut, httpPost, httpDelete 
</p>
</dd>

       
     </dl>

   </div>

<div class="section"><h2 class="title sectiontitle splhead-1">Functions</h2>
  
</div>

<div class="section" id="spldoc_compilationunit__function__passThrough.rstring"><h2 class="title sectiontitle splpart">rstring passThrough(rstring val)</h2>
  
</div>
<div class="section">

<p class="p">This function passes the input string unchanged 
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Parameters</h2>

 <ul class="sl simple">
   <li class="sli">
<strong class="ph b">val</strong>: the input string
   </li>

 </ul>

</div>

<div class="section"><h2 class="title sectiontitle">Returns</h2>

<ul class="sl simple"><li class="sli">
the unchanged input string</li>
</ul>

</div>

</div>


</body>
</html>